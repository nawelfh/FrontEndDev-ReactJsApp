{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Desktop\\\\ReactJs\\\\CounterApp\\\\src\\\\Pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { isEmail, isPasswordValid } from '../Helpers/Helpers';\nimport TemplateLogin from '../Template/TemplateLogin';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.auth);\n  const [state, setState] = useState({\n    mail: {\n      value: '',\n      isInvalid: false,\n      isValid: false\n    },\n    password: {\n      value: '',\n      isInvalid: false,\n      isValid: false\n    }\n  });\n  useEffect(() => {\n    if (auth.token !== null && auth.user !== null) {\n      navigate('/counter');\n    }\n  }, []);\n\n  const changeInput = (e, key) => {\n    let newState = { ...state\n    };\n    newState[key].value = e.target.value;\n\n    if (key === 'mail') {\n      newState[key].isInvalid = !isEmail(e.target.value);\n      newState[key].isValid = isEmail(e.target.value);\n    } else {\n      newState[key].isInvalid = !isPasswordValid(e.target.value);\n      newState[key].isValid = isPasswordValid(e.target.value);\n    }\n\n    setState(newState);\n  };\n\n  const submit = () => {\n    if (state.mail.isValid && state.password.isValid) {\n      dispatch({\n        type: 'LOGIN',\n        payload: {\n          token: Math.random(),\n          user: {\n            mail: state.mail\n          }\n        }\n      });\n      navigate('/counter');\n    } else {\n      let newState = { ...state\n      };\n      newState.mail.isInvalid = true;\n      newState.password.isInvalid = true;\n      setState(newState);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(TemplateLogin, {\n    state: state,\n    changeInput: changeInput,\n    submit: submit\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"0gHo79fpXbpXsxv73dji1z7c+IE=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/dell/Desktop/ReactJs/CounterApp/src/Pages/Login.js"],"names":["React","useEffect","useState","useNavigate","isEmail","isPasswordValid","TemplateLogin","useDispatch","useSelector","Login","navigate","dispatch","auth","state","setState","mail","value","isInvalid","isValid","password","token","user","changeInput","e","key","newState","target","submit","type","payload","Math","random"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { isEmail, isPasswordValid } from '../Helpers/Helpers'\r\nimport TemplateLogin from '../Template/TemplateLogin'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nfunction Login() {\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const auth = useSelector(state => state.auth)\r\n    const [state, setState] = useState({\r\n        mail: { value: '', isInvalid: false, isValid: false },\r\n        password: { value: '', isInvalid: false, isValid: false }\r\n    })\r\n    useEffect(() => {\r\n        if (auth.token !== null && auth.user !== null) {\r\n            navigate('/counter')\r\n        }\r\n    }, [])\r\n\r\n    const changeInput = (e, key) => {\r\n        let newState = { ...state }\r\n        newState[key].value = e.target.value\r\n        if (key === 'mail') {\r\n            newState[key].isInvalid = !isEmail(e.target.value)\r\n            newState[key].isValid = isEmail(e.target.value)\r\n        } else {\r\n            newState[key].isInvalid = !isPasswordValid(e.target.value)\r\n            newState[key].isValid = isPasswordValid(e.target.value)\r\n\r\n        }\r\n        setState(newState)\r\n    }\r\n    const submit = () => {\r\n        if (state.mail.isValid && state.password.isValid) {\r\n            dispatch({\r\n                type: 'LOGIN', payload: { token: Math.random(), user: { mail: state.mail } }\r\n            })\r\n            navigate('/counter')\r\n\r\n        } else {\r\n            let newState = { ...state }\r\n            newState.mail.isInvalid = true\r\n            newState.password.isInvalid = true\r\n            setState(newState)\r\n        }\r\n    }\r\n    return (\r\n        <TemplateLogin\r\n            state={state}\r\n            changeInput={changeInput}\r\n            submit={submit}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}